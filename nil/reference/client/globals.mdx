# @nilfoundation/niljs

## Classes

### BlockNotFoundError

The error class for 'block not found' errors.
This error is thrown when the requested block is not found.

#### Extends

- `BaseError`

#### Constructors

##### new BlockNotFoundError()

```ts
new BlockNotFoundError(param0): BlockNotFoundError
```

Creates an instance of BlockNotFoundError.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `param0` | `BlockNotFoundErrorParameters` | The error params. |

###### Returns

[`BlockNotFoundError`](globals.mdx#blocknotfounderror)

###### Overrides

`BaseError.constructor`

###### Source

nil/nil.js/src/errors/rpcErrors.ts:24

#### Properties

##### cause?

```ts
optional cause: BaseError | Error;
```

The error cause.

###### Inherited from

`BaseError.cause`

###### Source

nil/nil.js/src/errors/BaseError.ts:40

##### docsPath?

```ts
optional docsPath: string;
```

The path to the documentation of this error.

###### Inherited from

`BaseError.docsPath`

###### Source

nil/nil.js/src/errors/BaseError.ts:47

##### isOperational

```ts
isOperational: boolean;
```

The flag that indicates if this error is operational.
This is useful to differentiate operational errors from programming errors.
It is recommended to always set this property to true when creating a custom error class.

###### Inherited from

`BaseError.isOperational`

###### Source

nil/nil.js/src/errors/BaseError.ts:33

##### message

```ts
message: string;
```

###### Inherited from

`BaseError.message`

###### Source

node\_modules/typescript/lib/lib.es5.d.ts:1077

##### name

```ts
name: string;
```

###### Inherited from

`BaseError.name`

###### Source

node\_modules/typescript/lib/lib.es5.d.ts:1076

##### stack?

```ts
optional stack: string;
```

###### Inherited from

`BaseError.stack`

###### Source

node\_modules/typescript/lib/lib.es5.d.ts:1078

##### prepareStackTrace()?

```ts
static optional prepareStackTrace: (err, stackTraces) => any;
```

Optional override for formatting stack traces

###### See

https://v8.dev/docs/stack-trace-api#customizing-stack-traces

###### Parameters

| Parameter | Type |
| :------ | :------ |
| `err` | `Error` |
| `stackTraces` | `CallSite`[] |

###### Returns

`any`

###### Inherited from

`BaseError.prepareStackTrace`

###### Source

node\_modules/@types/node/globals.d.ts:28

##### stackTraceLimit

```ts
static stackTraceLimit: number;
```

###### Inherited from

`BaseError.stackTraceLimit`

###### Source

node\_modules/@types/node/globals.d.ts:30

#### Methods

##### captureStackTrace()

```ts
static captureStackTrace(targetObject, constructorOpt?): void
```

Create .stack property on a target object

###### Parameters

| Parameter | Type |
| :------ | :------ |
| `targetObject` | `object` |
| `constructorOpt`? | `Function` |

###### Returns

`void`

###### Inherited from

`BaseError.captureStackTrace`

###### Source

node\_modules/@types/node/globals.d.ts:21

***

### ExternalMessageEnvelope

The envelope for an external message (a message sent by a user, a dApp, etc.)

#### Export

ExternalMessageEnvelope

#### Constructors

##### new ExternalMessageEnvelope()

```ts
new ExternalMessageEnvelope(param0): ExternalMessageEnvelope
```

Creates an instance of ExternalMessageEnvelope.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `param0` | [`ExternalMessage`](globals.mdx#externalmessage) | The object representing the external message. |

###### Returns

[`ExternalMessageEnvelope`](globals.mdx#externalmessageenvelope)

###### Source

nil/nil.js/src/encoding/externalMessage.ts:65

#### Properties

##### authData

```ts
authData: Uint8Array;
```

The auth data attached to the message.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:52

##### chainId

```ts
chainId: number;
```

The chain ID.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:34

##### data

```ts
data: Uint8Array;
```

The message data.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:46

##### isDeploy

```ts
isDeploy: boolean;
```

The flag that determines whether the external message is a deployment message.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:22

##### seqno

```ts
seqno: number;
```

The message sequence number.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:40

##### to

```ts
to: Uint8Array;
```

The destination address of the message.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:28

#### Methods

##### encode()

```ts
encode(): Uint8Array
```

Encodes the external message into a Uint8Array.

###### Returns

`Uint8Array`

The encoded external message.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:86

##### encodeWithSignature()

```ts
encodeWithSignature(signer): Promise<object>
```

Encodes the external message with its signature.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `signer` | [`ISigner`](globals.mdx#isigner) | The message signer. |

###### Returns

`Promise`\<`object`\>

The object containing the encoded message and its hash.

###### hash

```ts
hash: Uint8Array;
```

###### raw

```ts
raw: Uint8Array;
```

###### Async

###### Source

nil/nil.js/src/encoding/externalMessage.ts:139

##### hash()

```ts
hash(): Uint8Array
```

Provides the hash tree root of the external message.

###### Returns

`Uint8Array`

The hash tree root of the external message.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:102

##### hexAddress()

```ts
hexAddress(): `0x${string}`
```

Returns the hex address of the given bytes.

###### Returns

\`0x$\{string\}\`

The hex address.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:191

##### send()

```ts
send(client): Promise<Uint8Array>
```

Sends the external message.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `client` | [`PublicClient`](globals.mdx#publicclient) | The client sending the message. |

###### Returns

`Promise`\<`Uint8Array`\>

The hash of the external message.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:201

##### sign()

```ts
sign(signer): Promise<Uint8Array>
```

Signs the external message.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `signer` | [`ISigner`](globals.mdx#isigner) | The message signer. |

###### Returns

`Promise`\<`Uint8Array`\>

The message signature.

###### Async

###### Source

nil/nil.js/src/encoding/externalMessage.ts:170

##### signingHash()

```ts
signingHash(): Uint8Array
```

Provides the signing hash of the external message.

###### Returns

`Uint8Array`

The signing hash of the external message.

###### Source

nil/nil.js/src/encoding/externalMessage.ts:118

##### updateAuthdata()

```ts
updateAuthdata(signer): Promise<Uint8Array>
```

Updates the authentication data in the external message and returns the result.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `signer` | [`ISigner`](globals.mdx#isigner) | The auth data signer. |

###### Returns

`Promise`\<`Uint8Array`\>

The signed auth data.

###### Async

###### Source

nil/nil.js/src/encoding/externalMessage.ts:181

***

### Faucet

Faucet is a special contract that is used to top up other contracts in the =nil; devnet.

#### Export

Faucet

#### Constructors

##### new Faucet()

```ts
new Faucet(client): Faucet
```

Creates an instance of Faucet.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `client` | [`PublicClient`](globals.mdx#publicclient) |  |

###### Returns

[`Faucet`](globals.mdx#faucet)

###### Source

nil/nil.js/src/contracts/Faucet/Faucet.ts:35

#### Properties

##### client

```ts
private client: PublicClient;
```

The client to be used with the faucet contract.

###### Source

nil/nil.js/src/contracts/Faucet/Faucet.ts:27

##### address

```ts
static address: "0x000100000000000000000000000000000FA00CE7";
```

The const address of the faucet contract.

###### Static

###### Source

nil/nil.js/src/contracts/Faucet/Faucet.ts:20

#### Methods

##### withdrawTo()

```ts
withdrawTo(
   address, 
   value?, 
seqno?): Promise<Uint8Array>
```

Withdraws the specified value to the given address.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `address` | `Hex` | The address to which the withdrawal should be made. |
| `value`? | `bigint` | The value that should be withdrawn to the given address. |
| `seqno`? | `number` | The sequence number of the withdrawal message. |

###### Returns

`Promise`\<`Uint8Array`\>

The hash of the withdrawal message.

###### Async

###### Source

nil/nil.js/src/contracts/Faucet/Faucet.ts:48

***

### HttpTransport

HttpTransport represents the HTTP transport for connecting to the network.

 HttpTransport

#### Implements

#### Implements

- [`ITransport`](globals.mdx#itransport)

#### Constructors

##### new HttpTransport()

```ts
new HttpTransport(config): HttpTransport
```

Creates an instance of HttpTransport.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `config` | [`IHttpTransportConfig`](globals.mdx#ihttptransportconfig) | The transport config. See [IHttpTransportConfig](globals.mdx#ihttptransportconfig). |

###### Returns

[`HttpTransport`](globals.mdx#httptransport)

###### Source

nil/nil.js/src/transport/HttpTransport.ts:36

#### Properties

##### rpcClient

```ts
private rpcClient: RPCClient;
```

The RPC client for the transport.

###### Source

nil/nil.js/src/transport/HttpTransport.ts:21

##### timeout

```ts
private timeout: number;
```

The request timeout.

###### Source

nil/nil.js/src/transport/HttpTransport.ts:28

#### Methods

##### closeConnection()

```ts
closeConnection(): void
```

Closes the connection to the network.

###### Returns

`void`

###### Implementation of

[`ITransport`](globals.mdx#itransport) . [`closeConnection`](globals.mdx#closeconnection-1)

###### Source

nil/nil.js/src/transport/HttpTransport.ts:68

##### connect()

```ts
connect(): void
```

Connects to the network.

###### Returns

`void`

###### Implementation of

[`ITransport`](globals.mdx#itransport) . [`connect`](globals.mdx#connect-1)

###### Source

nil/nil.js/src/transport/HttpTransport.ts:59

##### request()

```ts
request<T>(requestObject): Promise<T>
```

Sends a request to the network.

###### Type parameters

| Type parameter | Description |
| :------ | :------ |
| `T` |  |

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `requestObject` | `RequestArguments` | The request object. |

###### Returns

`Promise`\<`T`\>

The response.

###### Implementation of

[`ITransport`](globals.mdx#itransport) . [`request`](globals.mdx#request-1)

###### Async

###### Source

nil/nil.js/src/transport/HttpTransport.ts:50

***

### `abstract` ITransport

The transport interface.

#### Constructors

##### new ITransport()

```ts
new ITransport(): ITransport
```

###### Returns

[`ITransport`](globals.mdx#itransport)

#### Methods

##### closeConnection()

```ts
abstract closeConnection(): void
```

Closes the connection to the network.

###### Returns

`void`

###### Source

nil/nil.js/src/transport/types/ITransport.ts:22

##### connect()

```ts
abstract connect(): void
```

Connects to the network.

###### Returns

`void`

###### Source

nil/nil.js/src/transport/types/ITransport.ts:17

##### request()

```ts
abstract request<T>(requestObject): Promise<T>
```

Sends a request.

###### Type parameters

| Type parameter |
| :------ |
| `T` |

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `requestObject` | `RequestArguments` | The request object. It contains the method and parameters. |

###### Returns

`Promise`\<`T`\>

The response.

###### Source

nil/nil.js/src/transport/types/ITransport.ts:12

***

### InternalMessageEnvelope

The envelope for an internal message (a message sent by a smart contract to another smart contract).

#### Export

InternalMessageEnvelope

#### Constructors

##### new InternalMessageEnvelope()

```ts
new InternalMessageEnvelope(): InternalMessageEnvelope
```

###### Returns

[`InternalMessageEnvelope`](globals.mdx#internalmessageenvelope)

***

### LocalECDSAKeySigner

LocalKeySigner is a class that allows for signing data with the private key.
It uses the secp256k1 curve implementation by the @noble/curves/secp256k1 library.

#### Example

```ts
import {
  LocalECDSAKeySigner,
  generateRandomPrivateKey,
} from "../src";
const signer = new LocalECDSAKeySigner({
  privateKey: generateRandomPrivateKey(),
});
```

#### Implements

- [`ISigner`](globals.mdx#isigner)

#### Constructors

##### new LocalECDSAKeySigner()

```ts
new LocalECDSAKeySigner(config): LocalECDSAKeySigner
```

Creates an instance of LocalECDSAKeySigner.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `config` | [`ILocalKeySignerConfig`](globals.mdx#ilocalkeysignerconfig) | The config for the LocalECDSAKeySigner. See [ILocalKeySignerConfig](globals.mdx#ilocalkeysignerconfig). |

###### Returns

[`LocalECDSAKeySigner`](globals.mdx#localecdsakeysigner)

###### Source

nil/nil.js/src/signers/LocalECDSAKeySigner.ts:54

#### Properties

##### address?

```ts
private optional address: `0x${string}` = undefined;
```

The wallet address.

###### Source

nil/nil.js/src/signers/LocalECDSAKeySigner.ts:46

##### privateKey

```ts
private privateKey: Hex;
```

The private key to be used for signing.

###### Source

nil/nil.js/src/signers/LocalECDSAKeySigner.ts:32

##### publicKey?

```ts
private optional publicKey: Hex = undefined;
```

The public key to be used for signing.

###### Source

nil/nil.js/src/signers/LocalECDSAKeySigner.ts:39

#### Methods

##### getAddress()

```ts
getAddress(shardId): Promise<any>
```

Retrieves the wallet address.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `shardId` | `number` | The ID of the shard where the wallet is deployed. |

###### Returns

`Promise`\<`any`\>

The wallet address.

###### Implementation of

[`ISigner`](globals.mdx#isigner) . [`getAddress`](globals.mdx#getaddress-2)

###### Async

###### Source

nil/nil.js/src/signers/LocalECDSAKeySigner.ts:116

##### getPublicKey()

```ts
getPublicKey(): Promise<any>
```

Retrieves the public key.

###### Returns

`Promise`\<`any`\>

The publc key of the signer.

###### Implementation of

[`ISigner`](globals.mdx#isigner) . [`getPublicKey`](globals.mdx#getpublickey-2)

###### Async

###### Source

nil/nil.js/src/signers/LocalECDSAKeySigner.ts:97

##### sign()

```ts
sign(data): Promise<Uint8Array>
```

Signs the data.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `data` | `Uint8Array` | The input data. |

###### Returns

`Promise`\<`Uint8Array`\>

The signed data.

###### Implementation of

[`ISigner`](globals.mdx#isigner) . [`sign`](globals.mdx#sign-3)

###### Async

###### Source

nil/nil.js/src/signers/LocalECDSAKeySigner.ts:79

***

### MetaMaskSigner

MetaMaskSigner is a class that allows for signing data using MetaMask.
This signer can only be used inside a browser.

#### Example

```ts
import { MetaMaskSigner } from '@nilfoundation/niljs';

const signer = new MetaMaskSigner();
```

#### Implements

- [`ISigner`](globals.mdx#isigner)

#### Constructors

##### new MetaMaskSigner()

```ts
new MetaMaskSigner(): MetaMaskSigner
```

Creates an instance of MetaMaskSigner.

###### Returns

[`MetaMaskSigner`](globals.mdx#metamasksigner)

###### Source

nil/nil.js/src/signers/MetmaskSigner.ts:25

#### Properties

##### provider

```ts
private provider: any;
```

The signer provider.

###### Source

nil/nil.js/src/signers/MetmaskSigner.ts:19

#### Methods

##### connect()

```ts
connect(): Promise<void>
```

Connects the signer to an existing MetaMask wallet.

###### Returns

`Promise`\<`void`\>

###### Async

###### Source

nil/nil.js/src/signers/MetmaskSigner.ts:83

##### getAddress()

```ts
getAddress(): Promise<Uint8Array>
```

Retrieves the wallet address.

###### Returns

`Promise`\<`Uint8Array`\>

###### Implementation of

[`ISigner`](globals.mdx#isigner) . [`getAddress`](globals.mdx#getaddress-2)

###### Async

###### Source

nil/nil.js/src/signers/MetmaskSigner.ts:59

##### getPublicKey()

```ts
getPublicKey(): Promise<Uint8Array>
```

Retreieves the public key.

###### Returns

`Promise`\<`Uint8Array`\>

###### Implementation of

[`ISigner`](globals.mdx#isigner) . [`getPublicKey`](globals.mdx#getpublickey-2)

###### Async

###### Source

nil/nil.js/src/signers/MetmaskSigner.ts:71

##### sign()

```ts
sign(data): Promise<Uint8Array>
```

Signs the data.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `data` | `Uint8Array` | The input data. |

###### Returns

`Promise`\<`Uint8Array`\>

The signed data.

###### Implementation of

[`ISigner`](globals.mdx#isigner) . [`sign`](globals.mdx#sign-3)

###### Async

###### Source

nil/nil.js/src/signers/MetmaskSigner.ts:47

***

### MetaMaskTransport

MetaMask transport represents the MetaMask transport for connecting to the network.
MetaMask transport can be used in browser only.
 MetaMaskTransport

#### Implements

#### Implements

- [`ITransport`](globals.mdx#itransport)

#### Constructors

##### new MetaMaskTransport()

```ts
new MetaMaskTransport(config): MetaMaskTransport
```

Creates an instance of MetaMaskTransport.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `config` | [`IHttpTransportConfig`](globals.mdx#ihttptransportconfig) | The transport config. |

###### Returns

[`MetaMaskTransport`](globals.mdx#metamasktransport)

###### Source

nil/nil.js/src/transport/MetaMaskTransport.ts:35

#### Properties

##### provider

```ts
private provider: any;
```

The provider for the transport.

###### Source

nil/nil.js/src/transport/MetaMaskTransport.ts:20

##### timeout

```ts
private timeout: number;
```

The request timeout.

###### Source

nil/nil.js/src/transport/MetaMaskTransport.ts:27

#### Methods

##### closeConnection()

```ts
closeConnection(): void
```

Closes the connection to the network.

###### Returns

`void`

###### Implementation of

[`ITransport`](globals.mdx#itransport) . [`closeConnection`](globals.mdx#closeconnection-1)

###### Source

nil/nil.js/src/transport/MetaMaskTransport.ts:78

##### connect()

```ts
connect(): void
```

Connects to the network.

###### Returns

`void`

###### Implementation of

[`ITransport`](globals.mdx#itransport) . [`connect`](globals.mdx#connect-1)

###### Source

nil/nil.js/src/transport/MetaMaskTransport.ts:69

##### request()

```ts
request<T>(requestObject): Promise<T>
```

Sends a request to the network.

###### Type parameters

| Type parameter | Description |
| :------ | :------ |
| `T` |  |

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `requestObject` | `RequestArguments` | The request object. |

###### Returns

`Promise`\<`T`\>

The response.

###### Implementation of

[`ITransport`](globals.mdx#itransport) . [`request`](globals.mdx#request-1)

###### Async

###### Source

nil/nil.js/src/transport/MetaMaskTransport.ts:60

***

### PublicClient

PublicClient is a class that allows for interacting with the network via the JSON-RPC API.
It provides an abstraction of the connection to =nil;
PublicClient enables using API requests that do not require signing data (or otherwise using one's private key).

#### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
  transport: new HttpTransport({
    endpoint: "http://127.0.0.1:8529",
  }),
  shardId: 1,
});
```

#### Extends

- `BaseClient`

#### Constructors

##### new PublicClient()

```ts
new PublicClient(config): PublicClient
```

Creates an instance of PublicClient.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `config` | [`IClientBaseConfig`](globals.mdx#iclientbaseconfig) | The config to be used in the client. See [IPublicClientConfig](globals.mdx#ipublicclientconfig). |

###### Returns

[`PublicClient`](globals.mdx#publicclient)

###### Overrides

`BaseClient.constructor`

###### Source

nil/nil.js/src/clients/PublicClient.ts:35

#### Properties

##### shardId

```ts
protected shardId: number;
```

The ID of the shard with which the client needs to interact.
The shard with this ID will be used in every call made by the client.

###### Inherited from

`BaseClient.shardId`

###### Source

nil/nil.js/src/clients/BaseClient.ts:27

##### transport

```ts
protected transport: ITransport;
```

The ITransport to be used in the client. See [ITransport](globals.mdx#itransport).

###### Inherited from

`BaseClient.transport`

###### Source

nil/nil.js/src/clients/BaseClient.ts:20

#### Methods

##### chainId()

```ts
chainId(): Promise<number>
```

Returns the chain ID.

###### Returns

`Promise`\<`number`\>

The chain ID.

###### Source

nil/nil.js/src/clients/PublicClient.ts:336

##### estimateGasLimit()

```ts
estimateGasLimit(): Promise<bigint>
```

Returns the gas limit.

###### Returns

`Promise`\<`bigint`\>

The gas limit.

###### Source

nil/nil.js/src/clients/PublicClient.ts:326

##### getBalance()

```ts
getBalance(address, blockNumberOrHash): Promise<bigint>
```

Returns the balance of the given address and at the given block.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `address` | \`0x$\{string\}\` | The address of the account or contract. |
| `blockNumberOrHash` | \`0x$\{string\}\` \| [`BlockTag`](globals.mdx#blocktag) | The number/hash of the block. |

###### Returns

`Promise`\<`bigint`\>

The balance of the address.

###### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
 endpoint: 'http://127.0.0.1:8529'
})

const balance = await client.getBalance(Uint8Array.from([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]), 'latest');
```

###### Source

nil/nil.js/src/clients/PublicClient.ts:221

##### getBlockByHash()

```ts
getBlockByHash(
   hash, 
   fullTx, 
shardId): Promise<Block>
```

Returns the block with the given hash.

###### Parameters

| Parameter | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `hash` | \`0x$\{string\}\` | `undefined` | The hash of the block whose information is requested. |
| `fullTx` | `boolean` | `false` | The flag that determines whether full transaction information is returned in the output. |
| `shardId` | `number` | `undefined` | The ID of the shard where the block was generated. |

###### Returns

`Promise` \<[`Block`](globals.mdx#block)\>

Information about the block with the given hash.

###### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
  transport: new HttpTransport({
    endpoint: "http://127.0.0.1:8529",
  }),
  shardId: 1,
});

const block = await client.getBlockByHash(0x9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08);
```

###### Source

nil/nil.js/src/clients/PublicClient.ts:57

##### getBlockByNumber()

```ts
getBlockByNumber(
   blockNumber, 
   fullTx, 
shardId): Promise<Block>
```

Returns the block with the given number.

###### Parameters

| Parameter | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `blockNumber` | \`0x$\{string\}\` | `undefined` | The number of the block whose information is requested. |
| `fullTx` | `boolean` | `false` | The flag that determines whether full transaction information is returned in the output. |
| `shardId` | `number` | `undefined` | The ID of the shard where the block was generated. |

###### Returns

`Promise` \<[`Block`](globals.mdx#block)\>

Returns information about a block with the given number.

###### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
 endpoint: 'http://127.0.0.1:8529'
})

const block = await client.getBlockByNumber(1);
```

###### Source

nil/nil.js/src/clients/PublicClient.ts:90

##### getBlockMessageCountByHash()

```ts
getBlockMessageCountByHash(hash, shardId): Promise<number>
```

Returns the total number of messages recorded in the block with the given hash.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `hash` | \`0x$\{string\}\` | The hash of the block whose information is requested. |
| `shardId` | `number` | The ID of the shard where the block was generated. |

###### Returns

`Promise`\<`number`\>

The number of messages contained within the block.

###### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
 endpoint: 'http://127.0.0.1:8529'
})

const count = await client.getBlockMessageCountByHash(Uint8Array.from([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]));
```

###### Source

nil/nil.js/src/clients/PublicClient.ts:148

##### getBlockMessageCountByNumber()

```ts
getBlockMessageCountByNumber(blockNumber, shardId): Promise<number>
```

Returns the total number of messages recorded in the block with the given number.

###### Parameters

| Parameter | Type |
| :------ | :------ |
| `blockNumber` | `string` |
| `shardId` | `number` |

###### Returns

`Promise`\<`number`\>

The number of messages contained within the block.

###### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
 endpoint: 'http://127.0.0.1:8529'
})

const count = await client.getBlockMessageCountByNumber(1);
```

###### Source

nil/nil.js/src/clients/PublicClient.ts:122

##### getCode()

```ts
getCode(address, blockNumberOrHash): Promise<any>
```

Returns the bytecode of the contract with the given address and at the given block.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `address` | \`0x$\{string\}\` | The address of the account or contract. |
| `blockNumberOrHash` | \`0x$\{string\}\` \| [`BlockTag`](globals.mdx#blocktag) | The number/hash of the block. |

###### Returns

`Promise`\<`any`\>

The bytecode of the contract.

###### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
 endpoint: 'http://127.0.0.1:8529'
})

const code = await client.getCode(Uint8Array.from([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]), 'latest');
```

###### Source

nil/nil.js/src/clients/PublicClient.ts:172

##### getGasPrice()

```ts
getGasPrice(): Promise<bigint>
```

Returns the gas price in wei.

###### Returns

`Promise`\<`bigint`\>

The gas price.

###### Source

nil/nil.js/src/clients/PublicClient.ts:316

##### getMessageByHash()

```ts
getMessageByHash(hash, shardId): Promise<Uint8Array>
```

Returns the structure of the internal message with the given hash.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `hash` | \`0x$\{string\}\` | The hash of the message. |
| `shardId` | `number` | The ID of the shard where the message was recorded. |

###### Returns

`Promise`\<`Uint8Array`\>

The message whose information is requested.

###### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
 endpoint: 'http://127.0.0.1:8529'
})

const message = await client.getMessageByHash(Uint8Array.from([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]));
```

###### Source

nil/nil.js/src/clients/PublicClient.ts:247

##### getMessageCount()

```ts
getMessageCount(address, blockNumberOrHash): Promise<number>
```

Returns the transaction count of the account with the given address and at the given block.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `address` | \`0x$\{string\}\` | The address of the account or contract. |
| `blockNumberOrHash` | \`0x$\{string\}\` \| [`BlockTag`](globals.mdx#blocktag) | The number/hash of the block. |

###### Returns

`Promise`\<`number`\>

The number of transactions contained within the block.

###### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
 endpoint: 'http://127.0.0.1:8529'
})

const count = await client.getMessageCount(Uint8Array.from([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]), 'latest');
```

###### Source

nil/nil.js/src/clients/PublicClient.ts:195

##### getMessageReceiptByHash()

```ts
getMessageReceiptByHash(hash, shardId): Promise<IReceipt>
```

Returns the receipt for the message with the given hash.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `hash` | \`0x$\{string\}\` | The hash of the message. |
| `shardId` | `number` | The ID of the shard where the message was recorded. |

###### Returns

`Promise` \<[`IReceipt`](globals.mdx#ireceipt)\>

The receipt whose structure is requested.

###### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
endpoint: 'http://127.0.0.1:8529'
})

const receipt = await client.getMessageReceiptByHash(1, Uint8Array.from([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]));
```

###### Source

nil/nil.js/src/clients/PublicClient.ts:270

##### getShardId()

```ts
getShardId(): number
```

Returns the shard ID.

###### Returns

`number`

The shard ID.

###### Inherited from

`BaseClient.getShardId`

###### Source

nil/nil.js/src/clients/BaseClient.ts:52

##### request()

```ts
protected request<T>(requestObject): Promise<T>
```

Sends a request.

###### Type parameters

| Type parameter |
| :------ |
| `T` |

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `requestObject` | `RequestArguments` | The request object. It contains the method and parameters. |

###### Returns

`Promise`\<`T`\>

The response.

###### Inherited from

`BaseClient.request`

###### Source

nil/nil.js/src/clients/BaseClient.ts:44

##### sendRawMessage()

```ts
sendRawMessage(message): Promise<Uint8Array>
```

Creates a new message or creates a contract for a previously signed message.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `message` | \`0x$\{string\}\` \| `Uint8Array` | The encoded bytecode of the message. |

###### Returns

`Promise`\<`Uint8Array`\>

The hash of the message.

###### Example

```ts
import { PublicClient } from '@nilfoundation/niljs';

const client = new PublicClient({
 endpoint: 'http://127.0.0.1:8529'
})

const message = Uint8Array.from([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]);
```

###### Source

nil/nil.js/src/clients/PublicClient.ts:297

##### setShardId()

```ts
setShardId(shardId): void
```

Sets the shard ID.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `shardId` | `number` | The shard ID. |

###### Returns

`void`

###### Inherited from

`BaseClient.setShardId`

###### Throws

Will throw an error if provided the shard ID is invalid.

###### Example

```ts
client.setShardId(1);
```

###### Source

nil/nil.js/src/clients/BaseClient.ts:63

***

### WalletV1

WalletV1 is a class used for performing operations on the cluster that require authentication.

#### Export

WalletV1

#### Constructors

##### new WalletV1()

```ts
new WalletV1(param0): WalletV1
```

Creates an instance of WalletV1.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `param0` | [`WalletV1Config`](globals.mdx#walletv1config) | The object representing the initial wallet config. See [WalletV1Config](globals.mdx#walletv1config). |

###### Returns

[`WalletV1`](globals.mdx#walletv1)

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:143

#### Properties

##### address

```ts
address: Uint8Array;
```

The wallet address.

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:129

##### client

```ts
client: PublicClient;
```

The client for interacting with the wallet.

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:111

##### pubkey

```ts
pubkey: Uint8Array;
```

The wallet public key.

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:99

##### salt

```ts
salt: Uint8Array;
```

Arbitrary data for changing the wallet address.

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:117

##### shardId

```ts
shardId: number;
```

The ID of the shard where the wallet is deployed.

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:105

##### signer

```ts
signer: ISigner;
```

The wallet signer.

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:123

##### abi

```ts
static abi: Abi;
```

The wallet ABI.

###### Static

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:41

##### code

```ts
static code: any;
```

The wallet bytecode.

###### Static

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:34

#### Methods

##### checkDeploymentStatus()

```ts
checkDeploymentStatus(): Promise<boolean>
```

Checks the deployment status.

###### Returns

`Promise`\<`boolean`\>

The current deployment status.

###### Async

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:252

##### deployContract()

```ts
deployContract(param0): Promise<object>
```

Deploys a new smart contract via the wallet.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `param0` | [`DeployParams`](globals.mdx#deployparams) | The object representing the contract deployment params. |

###### Returns

`Promise`\<`object`\>

The object containing the deployment message hash and the contract address.

###### address

```ts
address: any;
```

###### hash

```ts
hash: any;
```

###### Async

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:377

##### getAddressHex()

```ts
getAddressHex(): any
```

Converts the wallet address into a hexadecimal.

###### Returns

`any`

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:164

##### getBalance()

```ts
getBalance(): Promise<bigint>
```

Returns the wallet balance.

###### Returns

`Promise`\<`bigint`\>

The wallet balance.

###### Async

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:462

##### requestToWallet()

```ts
requestToWallet(requestParams, send?): Promise<object>
```

Performs a request to the wallet.

###### Parameters

| Parameter | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `requestParams` | [`RequestParams`](globals.mdx#requestparams) | `undefined` | The object representing the request parameters. |
| `send`? | `boolean` | `true` | The flag that determines whether the request is sent when the function is called. |

###### Returns

`Promise`\<`object`\>

The message bytecode and hash.

###### hash

```ts
hash: Uint8Array;
```

###### raw

```ts
raw: Uint8Array;
```

###### Async

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:265

##### selfDeploy()

```ts
selfDeploy(waitTillConfirmation?): Promise<Uint8Array>
```

Deploys the wallet.

###### Parameters

| Parameter | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `waitTillConfirmation`? | `boolean` | `true` | The flag that determines whether the function waits for deployment confirmation before exiting. |

###### Returns

`Promise`\<`Uint8Array`\>

The hash of the deployment transaction.

###### Async

###### Example

```ts
import {
    Faucet,
    HttpTransport,
    LocalECDSAKeySigner,
    PublicClient,
    WalletV1,
    generateRandomPrivateKey,
  } from "../src";
const client = new PublicClient({
    transport: new HttpTransport({
      endpoint: "http://127.0.0.1:8529",
    }),
    shardId: 1,
  });
const signer = new LocalECDSAKeySigner({
    privateKey: generateRandomPrivateKey(),
  });
const faucet = new Faucet(client);
await faucet.withdrawTo(walletAddress, 100000n);
const pubkey = await signer.getPublicKey();
const wallet = new WalletV1({
    pubkey: pubkey,
    salt: 100n,
    shardId: 1,
    client,
    signer,
    address: WalletV1.calculateWalletAddress({
      pubKey: pubkey,
      shardId: 1,
      salt: 100n,
    }),
  });
await wallet.selfDeploy(true);
```

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:209

##### sendMessage()

```ts
sendMessage(param0): Promise<any>
```

Send a message via the wallet.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `param0` | [`SendMessageParams`](globals.mdx#sendmessageparams) | The object representing the message params. |

###### Returns

`Promise`\<`any`\>

The message hash.

###### Async

###### Example

```ts
const anotherAddress = WalletV1.calculateWalletAddress({
    pubKey: pubkey,
    shardId: 1,
    salt: 200n,
  });
await wallet.sendMessage({
    to: anotherAddress,
    value: 10n,
    gas: 100000n,
  });
```

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:313

##### sendRawInternalMessage()

```ts
sendRawInternalMessage(rawMessage): Promise<any>
```

Send a raw signed message via the wallet.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `rawMessage` | `Uint8Array` | The message bytecode. |

###### Returns

`Promise`\<`any`\>

The message hash.

###### Async

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:354

##### syncSendMessage()

```ts
syncSendMessage(param0): Promise<any>
```

Send a message synchronously via the wallet.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `param0` | [`SendSyncMessageParams`](globals.mdx#sendsyncmessageparams) | The object representing the message params. |

###### Returns

`Promise`\<`any`\>

The message hash.

###### Async

###### Example

```ts
const anotherAddress = WalletV1.calculateWalletAddress({
    pubKey: pubkey,
    shardId: 1,
    salt: 200n,
  });
await wallet.sendMessage({
    to: anotherAddress,
    value: 10n,
    gas: 100000n,
  });
```

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:432

##### calculateWalletAddress()

```ts
static calculateWalletAddress(param0): Uint8Array
```

Calculates the address of the new wallet.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `param0` | `object` | The object representing the config for address calculation. |
| `param0.pubKey` | `Uint8Array` | The wallet public key. |
| `param0.salt` | `bigint` \| `Uint8Array` | Arbitrary data change the address. |
| `param0.shardId` | `number` | The ID of the shard where the wallet should be deployed. |

###### Returns

`Uint8Array`

The address of the new wallet.

###### Static

###### Example

```ts
import {
    LocalECDSAKeySigner,
    WalletV1,
    generateRandomPrivateKey,
  } from "../src";

const signer = new LocalECDSAKeySigner({
    privateKey: generateRandomPrivateKey(),
  });

  const pubkey = await signer.getPublicKey();

const anotherAddress = WalletV1.calculateWalletAddress({
    pubKey: pubkey,
    shardId: 1,
    salt: 200n,
  });
```

###### Source

nil/nil.js/src/contracts/WalletV1/WalletV1.ts:75

## Interfaces

### IMessage

The interface for the message object. This object is used to represent a message in the client code.
It may differ from the actual message object used inside the network.

#### Extends

- `unknown`\<*typeof* [`SszMessageSchema`](globals.mdx#sszmessageschema)\>

***

### ISigner

The interface for the Signer class

#### Methods

##### getAddress()

```ts
getAddress(params): Promise<Uint8Array>
```

Retrieves the address.

###### Parameters

| Parameter | Type |
| :------ | :------ |
| `params` | `unknown` |

###### Returns

`Promise`\<`Uint8Array`\>

The address.

###### Example

```ts
const address = signer.getAddress();
```

###### Source

nil/nil.js/src/signers/types/ISigner.ts:29

##### getPublicKey()

```ts
getPublicKey(params): Promise<Uint8Array>
```

Retrieves the public key.

###### Parameters

| Parameter | Type |
| :------ | :------ |
| `params` | `unknown` |

###### Returns

`Promise`\<`Uint8Array`\>

The public key.

###### Example

```ts
const address = signer.getPublicKey();
```

###### Source

nil/nil.js/src/signers/types/ISigner.ts:21

##### sign()

```ts
sign(data): Promise<Uint8Array>
```

Signs the data.
Accepts valid data as an argument and returns the signature.

###### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `data` | `Uint8Array` | The data to sign. |

###### Returns

`Promise`\<`Uint8Array`\>

###### Example

```ts
const data = Uint8Array.from([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]);
const recoveredSignature = signer.sign(data);
```

###### Source

nil/nil.js/src/signers/types/ISigner.ts:13

## Type Aliases

### Block

```ts
type Block: object;
```

The block type.

#### Type declaration

##### childBlocksRootHash

```ts
childBlocksRootHash: string;
```

##### id

```ts
id: string;
```

##### inMessagesRoot

```ts
inMessagesRoot: Hex;
```

##### logsBloom

```ts
logsBloom: any;
```

##### masterChainHash

```ts
masterChainHash: Hex;
```

##### outMessagesNum

```ts
outMessagesNum: number;
```

##### outMessagesRoot

```ts
outMessagesRoot: Hex;
```

##### prevBlock

```ts
prevBlock: Hex;
```

##### receiptsRoot

```ts
receiptsRoot: Hex;
```

##### smartContractsRoot

```ts
smartContractsRoot: Hex;
```

##### timestamp

```ts
timestamp: number;
```

#### Source

nil/nil.js/src/types/Block.ts:6

***

### BlockTag

```ts
type BlockTag: "latest" | "earliest" | "pending";
```

The block tag type.

#### Source

nil/nil.js/src/types/Block.ts:24

***

### CallParams

```ts
type CallParams: object;
```

Represents the message call params.

#### Export

#### Type declaration

##### data

```ts
data: Uint8Array;
```

##### to

```ts
to: Address;
```

##### value

```ts
value: bigint;
```

#### Source

nil/nil.js/src/contracts/WalletV1/types/index.ts:27

***

### DeployParams

```ts
type DeployParams: object;
```

Represents the params for deploying a smart contract.

#### Export

#### Type declaration

##### abi?

```ts
optional abi: Abi;
```

##### args?

```ts
optional args: unknown[];
```

##### bytecode

```ts
bytecode: Uint8Array;
```

##### gas

```ts
gas: bigint;
```

##### salt

```ts
salt: Uint8Array | bigint;
```

##### shardId

```ts
shardId: number;
```

##### value?

```ts
optional value: bigint;
```

#### Source

nil/nil.js/src/contracts/WalletV1/types/index.ts:81

***

### ExternalMessage

```ts
type ExternalMessage: object;
```

The external message type.

#### Type declaration

##### authData

```ts
authData: Uint8Array;
```

##### chainId

```ts
chainId: number;
```

##### data

```ts
data: Uint8Array;
```

##### isDeploy

```ts
isDeploy: boolean;
```

##### seqno

```ts
seqno: number;
```

##### to

```ts
to: Uint8Array;
```

#### Source

nil/nil.js/src/types/ExternalMessage.ts:6

***

### Hex

```ts
type Hex: `0x${string}`;
```

The hex type.

#### Source

nil/nil.js/src/types/Hex.ts:6

***

### IClientBaseConfig

```ts
type IClientBaseConfig: object;
```

The client configuration that is shared between public and private clients.

#### Type declaration

##### shardId

```ts
shardId: number;
```

The ID of the shard with which the client interacts.

###### Example

```ts
0
```

###### Default

```ts
0
```

##### transport

```ts
transport: ITransport;
```

The transport is used to send requests to the network.

###### Example

```ts
import { MetaMaskTransport } from '@nilfoundation/niljs';

const transport = new MetaMaskTransport();

const client = new PublicClient({ transport, shardId: 1 });
```

#### Source

nil/nil.js/src/clients/types/ClientConfigs.ts:7

***

### IDeployData

```ts
type IDeployData: object;
```

IDeployData is a data structure that contains information to deploy a contract.

#### Type declaration

##### abi?

```ts
optional abi: Abi;
```

##### args?

```ts
optional args: unknown[];
```

##### bytecode

```ts
bytecode: Uint8Array;
```

##### salt

```ts
salt: Uint8Array | bigint;
```

##### shard

```ts
shard: number;
```

#### Source

nil/nil.js/src/types/IDeployData.ts:6

***

### IHttpTransportConfig

```ts
type IHttpTransportConfig: object;
```

The interface representing the configuration of the HTTP transport.

#### Type declaration

##### endpoint

```ts
endpoint: string;
```

The network endpoint. It is set to the URL of the network node.

###### Example

```ts
'http://127.0.0.1:8529'
```

##### timeout?

```ts
optional timeout: number;
```

The request timeout.
If the request is not completed within the timeout, it will be rejected.

###### Example

```ts
1000
```

###### Default

```ts
20000
```

#### Source

nil/nil.js/src/transport/types/IHttpTransportConfig.ts:4

***

### ILocalKeySignerConfig

```ts
type ILocalKeySignerConfig: object;
```

The interface for the configuration object of LocalKeySigner.

#### Type declaration

##### mnemonic?

```ts
optional mnemonic: string;
```

The mnemonic to derive the private key.
If the mnemonic is provided, privateKey will be ignored.

##### privateKey

```ts
privateKey: IPrivateKey;
```

The private key to sign the data.

###### Example

```ts
'4b3b4c4d4e4f505152535455565758595a6162636465666768696a6b6c6d6e6f'
```

#### Source

nil/nil.js/src/signers/types/ILocalKeySignerConfig.ts:6

***

### ILog

```ts
type ILog: object;
```

The log interface.

#### Type declaration

##### address

```ts
address: string;
```

##### blockNumber

```ts
blockNumber: bigint;
```

##### data

```ts
data: string;
```

##### topics

```ts
topics: string[];
```

#### Source

nil/nil.js/src/types/ILog.ts:4

***

### IPrivateKey

```ts
type IPrivateKey: `0x${string}`;
```

IPrivateKey represents a private key in hexadecimal format.

#### Source

nil/nil.js/src/signers/types/IPrivateKey.ts:4

***

### IPublicClientConfig

```ts
type IPublicClientConfig: IClientBaseConfig;
```

#### Source

nil/nil.js/src/clients/types/ClientConfigs.ts:26

***

### IReceipt

```ts
type IReceipt: object;
```

The receipt interface.

#### Type declaration

##### blockHash

```ts
blockHash: string;
```

##### blockNumber

```ts
blockNumber: bigint;
```

##### bloom

```ts
bloom: string;
```

##### contractAddress

```ts
contractAddress: string;
```

##### gasUsed

```ts
gasUsed: number;
```

##### logs

```ts
logs: ILog[];
```

##### msgHash

```ts
msgHash: string;
```

##### msgIndex

```ts
msgIndex: bigint;
```

##### outMessages

```ts
outMessages: string[];
```

##### success

```ts
success: boolean;
```

#### Source

nil/nil.js/src/types/IReceipt.ts:6

***

### ISendMessageOptions

```ts
type ISendMessageOptions: object;
```

The options for sending a message.

#### Type declaration

##### shouldValidate?

```ts
optional shouldValidate: boolean;
```

If true, the message will be validated before sending.
If the message is invalid, an error will be thrown.
If false, the message will not be validated before sending.

###### Default

```ts
true
```

#### Source

nil/nil.js/src/clients/types/ISendMessageOptions.ts:4

***

### ISignature

```ts
type ISignature: object;
```

The interface for the signature. It contains the r, s, and yParity values.

#### Type declaration

##### signature

```ts
signature: Uint8Array;
```

#### Source

nil/nil.js/src/signers/types/ISignature.ts:4

***

### ISignedMessage

```ts
type ISignedMessage: IMessage & ISignature;
```

The signed message interface.

#### Source

nil/nil.js/src/types/ISignedMessage.ts:9

***

### IWalletClientConfig

```ts
type IWalletClientConfig: IClientBaseConfig & object;
```

#### Type declaration

##### signer

```ts
signer: ISigner;
```

An instance of Signer is used to sign messages.
If a Signer is absent from the config, messages should be signed explicitly before being passed to the client.

###### Example

```ts
import { Signer } from '@nilfoundation/niljs';

const signer = new Signer();

const client = new WalletClient({
 endpoint: 'http://127.0.0.1:8529',
 signer: signer
})
```

#### Source

nil/nil.js/src/clients/types/ClientConfigs.ts:28

***

### RequestParams

```ts
type RequestParams: object;
```

Represents the params for making a request to the wallet.

#### Export

#### Type declaration

##### data

```ts
data: Uint8Array;
```

##### deploy

```ts
deploy: boolean;
```

##### seqno?

```ts
optional seqno: number;
```

#### Source

nil/nil.js/src/contracts/WalletV1/types/index.ts:69

***

### SendMessageParams

```ts
type SendMessageParams: object;
```

Represents the params for sending a message.

#### Export

#### Type declaration

##### data?

```ts
optional data: Uint8Array;
```

##### deploy?

```ts
optional deploy: boolean;
```

##### gas

```ts
gas: bigint;
```

##### refundTo?

```ts
optional refundTo: Address | Uint8Array;
```

##### seqno?

```ts
optional seqno: number;
```

##### to

```ts
to: Address | Uint8Array;
```

##### value

```ts
value: bigint;
```

#### Source

nil/nil.js/src/contracts/WalletV1/types/index.ts:39

***

### SendSyncMessageParams

```ts
type SendSyncMessageParams: object;
```

Represents the params for sending a message synchronously.

#### Export

#### Type declaration

##### data?

```ts
optional data: Uint8Array;
```

##### gas

```ts
gas: bigint;
```

##### seqno?

```ts
optional seqno: number;
```

##### to

```ts
to: Address | Uint8Array;
```

##### value

```ts
value: bigint;
```

#### Source

nil/nil.js/src/contracts/WalletV1/types/index.ts:55

***

### WalletV1Config

```ts
type WalletV1Config: object;
```

Represents the wallet configuration.

#### Export

#### Type declaration

##### address

```ts
address: Hex | Uint8Array;
```

##### calculatedAddress?

```ts
optional calculatedAddress: boolean;
```

##### client

```ts
client: PublicClient;
```

##### pubkey

```ts
pubkey: Uint8Array | Hex;
```

##### salt

```ts
salt: Uint8Array | bigint;
```

##### shardId

```ts
shardId: number;
```

##### signer

```ts
signer: ISigner;
```

#### Source

nil/nil.js/src/contracts/WalletV1/types/index.ts:11

## Variables

### SszMessageSchema

```ts
const SszMessageSchema: any;
```

The SSZ schema for a message object.

#### Source

nil/nil.js/src/encoding/ssz.ts:63

***

### SszSignedMessageSchema

```ts
const SszSignedMessageSchema: any;
```

SSZ schema for a signed message object. Includes auth data in addition to all other message fields.

#### Source

nil/nil.js/src/encoding/ssz.ts:74

## Functions

### addHexPrefix()

```ts
function addHexPrefix(str): `0x${string}`
```

Add the hex prefix to the hex string.

#### Parameters

| Parameter | Type |
| :------ | :------ |
| `str` | `string` |

#### Returns

\`0x$\{string\}\`

The string with the prefix.

#### Source

nil/nil.js/src/utils/hex.ts:32

***

### assertIsAddress()

```ts
function assertIsAddress(address, message?): void
```

Checks if the address is valid. If the address is valid, it returns nothing.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `address` | `string` | The address to check. |
| `message`? | `string` | The message to throw if the address is invalid. |

#### Returns

`void`

#### Source

nil/nil.js/src/utils/assert.ts:140

***

### assertIsBuffer()

```ts
function assertIsBuffer(value, message?): void
```

Checks if the value is a buffer.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `value` | `Uint8Array` | The value to check. |
| `message`? | `string` | The message to throw if the value is not a buffer. |

#### Returns

`void`

#### Throws

Will throw an error if value is not a buffer.

#### Source

nil/nil.js/src/utils/assert.ts:31

***

### assertIsHexString()

```ts
function assertIsHexString(value, message?): void
```

Checks if the value is a string.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `value` | \`0x$\{string\}\` | The value to check. |
| `message`? | `string` | The message to throw if the value is not a hex string. |

#### Returns

`void`

#### Throws

Will throw an error if the value is not a hex string.

#### Source

nil/nil.js/src/utils/assert.ts:18

***

### assertIsValidBlock()

```ts
function assertIsValidBlock(block, message?): void
```

Checks if the block is valid. If the block is valid, it returns nothing.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `block` | [`Block`](globals.mdx#block) | The block to check. |
| `message`? | `string` | The message to throw if the block is invalid. |

#### Returns

`void`

#### Source

nil/nil.js/src/utils/assert.ts:152

***

### assertIsValidDeployData()

```ts
function assertIsValidDeployData(deployContractData, message?): void
```

Checks if the data to deploy contract is valid. If the data is valid, it returns nothing.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `deployContractData` | `IDeployData` | - |
| `message`? | `string` | The message to throw if the data is invalid. |

#### Returns

`void`

#### Throws

Will throw an error if the value is not a valid data to deploy contract.

#### Source

nil/nil.js/src/utils/assert.ts:112

***

### assertIsValidPrivateKey()

```ts
function assertIsValidPrivateKey(privateKey, message?): void
```

Checks if provided private key is valid. If the value is a hex string with length 32 nothing is returned.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `privateKey` | \`0x$\{string\}\` | The private key to check. |
| `message`? | `string` | The message to throw if the private key is invalid. |

#### Returns

`void`

#### Throws

Will throw an error if provided private key is invalid.

#### Source

nil/nil.js/src/utils/assert.ts:44

***

### assertIsValidSendMessageData()

```ts
function assertIsValidSendMessageData(sendMessage, message?): void
```

Checks if the data to send message is valid. If the message is valid, it returns nothing.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `sendMessage` | `ISendMessage` | The data to validate. |
| `message`? | `string` | The message to throw if the data is invalid. |

#### Returns

`void`

#### Throws

Will throw an error if the value is not a valid data to send message.

#### Source

nil/nil.js/src/utils/assert.ts:60

***

### assertIsValidShardId()

```ts
function assertIsValidShardId(shardId, message?): void
```

Checks if the shard id is valid. If the shard id is valid, it returns nothing.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `shardId` | `number` | The shard id to check. |
| `message`? | `string` | The message to throw if the shard id is invalid. |

#### Returns

`void`

#### Source

nil/nil.js/src/utils/assert.ts:164

***

### bytesToString()

```ts
function bytesToString(bytes): string
```

Converts bytes to a string.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `bytes` | `Uint8Array` | The bytes to convert. |

#### Returns

`string`

The string representation of the input.

#### Source

nil/nil.js/src/encoding/fromBytes.ts:6

***

### calculateAddress()

```ts
function calculateAddress(
   shardId, 
   code, 
   salt): Uint8Array
```

Calculates an address.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `shardId` | `number` | The ID of the shard containing the address. |
| `code` | `Uint8Array` | The bytecode to be deployed at the address. |
| `salt` | `Uint8Array` | Arbitrary data for address generation. |

#### Returns

`Uint8Array`

The address.

#### Source

nil/nil.js/src/utils/address.ts:42

***

### externalDeploymentMessage()

```ts
function externalDeploymentMessage(data, chainId): ExternalMessageEnvelope
```

Creates a new external deployment message.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `data` | [`IDeployData`](globals.mdx#ideploydata) | The message data. |
| `chainId` | `number` | The chain ID. |

#### Returns

[`ExternalMessageEnvelope`](globals.mdx#externalmessageenvelope)

The envelope of the external deployment message.

#### Example

```ts
import {
    Faucet,
    LocalECDSAKeySigner,
    HttpTransport,
    PublicClient
    WalletV1,
    externalDeploymentMessage,
    generateRandomPrivateKey,
  } from "../src";
const signer = new LocalECDSAKeySigner({
    privateKey: generateRandomPrivateKey(),
  });

  const pubkey = await signer.getPublicKey();
const chainId = await client.chainId();
const deploymentMessage = externalDeploymentMessage(
    {
      salt: 100n,
      shard: 1,
      bytecode: WalletV1.code,
      abi: WalletV1.abi,
      args: [bytesToHex(pubkey)],
    },
    chainId,
  );
```

#### Source

nil/nil.js/src/encoding/externalMessage.ts:248

***

### externalMessageEncode()

```ts
function externalMessageEncode(params, signer): Promise<object>
```

Encodes the given external message.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `params` | `Omit` \<[`ExternalMessage`](globals.mdx#externalmessage), `"authData"`\> | The external message to be encoded without its auth data. |
| `signer` | [`ISigner`](globals.mdx#isigner) | The message signer. |

#### Returns

`Promise`\<`object`\>

The message bytecode and the message hash.

##### hash

```ts
hash: Uint8Array;
```

##### raw

```ts
raw: Uint8Array;
```

#### Async

#### Source

nil/nil.js/src/encoding/externalMessage.ts:271

***

### generateRandomPrivateKey()

```ts
function generateRandomPrivateKey(): `0x${string}`
```

Generate a new private key.

#### Returns

\`0x$\{string\}\`

The new private key

#### Example

```ts
const privateKey = generatePrivateKey();
```

#### Source

nil/nil.js/src/signers/privateKey.ts:11

***

### getAddressFromPublicKey()

```ts
function getAddressFromPublicKey(publicKey, shardId): `0x${string}`
```

Returns the address from the public key.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `publicKey` | \`0x$\{string\}\` | Public key in hex format |
| `shardId` | `number` | Shard id |

#### Returns

\`0x$\{string\}\`

Address in hex format

#### Source

nil/nil.js/src/signers/publicKey.ts:33

***

### getPublicKey()

```ts
function getPublicKey(privateKey, isCompressed): `0x${string}`
```

Returns the public key from the private key using the secp256k1 curve.

#### Parameters

| Parameter | Type | Default value |
| :------ | :------ | :------ |
| `privateKey` | \`0x$\{string\}\` | `undefined` |
| `isCompressed` | `boolean` | `false` |

#### Returns

\`0x$\{string\}\`

#### Source

nil/nil.js/src/signers/publicKey.ts:18

***

### getShardIdFromAddress()

```ts
function getShardIdFromAddress(address): number
```

Returns the ID of the shard containing the provided address.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `address` | `Hex` | The address. |

#### Returns

`number`

#### Source

nil/nil.js/src/utils/address.ts:26

***

### hexToBigInt()

```ts
function hexToBigInt(hex): bigint
```

Convert a hex string to a bigint.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `hex` | \`0x$\{string\}\` | The hex string to convert. |

#### Returns

`bigint`

The bigint representation of the input.

#### Source

nil/nil.js/src/encoding/fromHex.ts:18

***

### hexToNumber()

```ts
function hexToNumber(hex): number
```

Convert a hex string to a number.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `hex` | \`0x$\{string\}\` | The hex string to convert. |

#### Returns

`number`

The number representation of the input.

#### Source

nil/nil.js/src/encoding/fromHex.ts:9

***

### isAddress()

```ts
function isAddress(value): value is `0x${string}`
```

Checks if the value is an address. If the value is an address, returns true.
Otherwise, returns false.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `value` | `Hex` | The value to check. |

#### Returns

value is \`0x$\{string\}\`

#### Source

nil/nil.js/src/utils/address.ts:18

***

### isHexString()

```ts
function isHexString(value): value is `0x${string}`
```

Checks if the value is a hex string. If the value is a hex string, returns true.
Otherwise, returns false.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `value` | `unknown` | The value to check. |

#### Returns

value is \`0x$\{string\}\`

#### Source

nil/nil.js/src/utils/hex.ts:10

***

### isValidBlock()

```ts
function isValidBlock(block): block is Block
```

Checks if the provided block is valid.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `block` | [`Block`](globals.mdx#block) | The block to check. |

#### Returns

`block is Block`

True if the block is valid, false otherwise.

#### Source

nil/nil.js/src/utils/block.ts:8

***

### poseidonHash()

```ts
function poseidonHash(bytes): any
```

Creates the Poseidon hash of the given bytes.

#### Parameters

| Parameter | Type |
| :------ | :------ |
| `bytes` | `Uint8Array` |

#### Returns

`any`

The Poseidon hash.

#### Source

nil/nil.js/src/encoding/poseidon.ts:8

***

### refineAddress()

```ts
function refineAddress(address): Uint8Array
```

Refines the address.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `address` | \`0x$\{string\}\` \| `Uint8Array` | The address to refine. |

#### Returns

`Uint8Array`

The refined address.

#### Source

nil/nil.js/src/utils/address.ts:75

***

### removeHexPrefix()

```ts
function removeHexPrefix(str): string
```

Remove the hex prefix from the hex string.

#### Parameters

| Parameter | Type |
| :------ | :------ |
| `str` | `string` |

#### Returns

`string`

The base-16 string.

#### Source

nil/nil.js/src/utils/hex.ts:23

***

### toHex()

```ts
function toHex<T>(value): `0x${string}`
```

Convert a string, number, bigint, boolean, or ByteArrayType to a hex string.

#### Type parameters

| Type parameter |
| :------ |
| `T` *extends* 
  \| `string`
  \| `number`
  \| `bigint`
  \| `boolean`
  \| `Uint8Array` |

#### Parameters

| Parameter | Type |
| :------ | :------ |
| `value` | `T` |

#### Returns

\`0x$\{string\}\`

The hex string representation of the input.

#### Source

nil/nil.js/src/encoding/toHex.ts:23
