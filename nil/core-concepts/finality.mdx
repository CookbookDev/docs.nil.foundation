# Finality

## Definition

=nil; offers strong guarantees for each confirmation step involved in reaching probabilistic and absolute finality. Here is a high-level overview of the finality procedure:

1. [**At the execution shard level**](./shards-parallel-execution#state-consensus-checks), local consensus ensures that only valid blocks are built
2. Execution shards generate ZKPs verifying the correctness of execution. These ZKPs are then sent to the consensus shard along with block headers
3. The consensus shard verifies the ZKPs received from execution shards and generates a 'master' ZKP
4. The 'master' ZKP and state diffs of block headers are sent to Ethereum

:::info[Generating ZKPs]

Generating ZKPs is a resource-intensive process. While ZKPs are generated, =nil; relies on a separate security protocol to ensure that local and global consensus and reached. To learn more, [**click here**](./shards-parallel-execution#consensus-shard).

:::

Additional remarks on probabilistic and absolute finality are given below.

## Probabilistic finality

Probabilistic finality occurs when a data availability transaction posted by the consensus shard is placed in a verified block on L1. There are no additional mechanisms for ensuring probabilistic finalization as Ethereum validators are deemed sufficiently reliable.

## Absolute finality

Absolute finality is only possible after all ZKPs are verified. This requires the global state proof along with finalized state differences as shown in the following formula.

$$
Finalization_t = \begin{Bmatrix} true, if V_{zk}(proof_t) \bigwedge V_{diff}(Diff_t), where : V - verification function \\ false, otherwise \end{Bmatrix}
$$

## 