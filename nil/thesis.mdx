import Flows from '@site/static/img/nil/flows.png'

# Thesis

This page explains the rationale behind the architecture of =nil; and provides insight into how =nil; resolves the fundamental monolithic vs. modular dispute.

## Problem statement

The rollup-centric roadmap to scaling Ethereum and the rise in the popularity of rollups introduced a significant issue: state fragmentation.

State fragmentation means that parts of Ethereum's global state are effectively scattered across systems that are distinct from Ethereum itself. This leads to the following outcomes:

* Liquidity and users are spread across various networks all of which have a unique infrastructure
* Cross-network operations being difficult to secure, resulting in more hacks
* Worsened developer and user experience. It falls either on developers or users to ensure cross-chain operations which adds an unnecessary layer of complexity

The architecture of =nil; is designed specifically to resolve these issues. 

## Solution

Instead of focusing on improving interoperability (which only produces a 'bandaid' fix to the fragmentation problem), the goal of =nil; is to maximise scalability.

=nil; achieves this by integrating both horizontal and vertical scaling supported by zkSharding.

:::info[Definitions]

**Horizontal scaling** refers to improving the throughput of a chain by adding more nodes. 

**Vertical scaling** is improving the throughput of a chain by upgrading the capacity of existing nodes or upgrading hardware utilization.

**zkSharding** is a type of sharding architecture in which the shards responsible for execution algo generate zero-knowledge proofs (ZKP) verifying intra-shard state transitions. There is also a dedicated shard for coordinating execution shards and communicating with Ethereum.

:::

zkSharding allows for combining horizontal and vertical sharding within the scope of one sharded network.

* More shards can be added as needed without compromising security
* Nodes in a shard can employ parallelized VMs for vertical intra-shard scaling

Cross-shard communications are incorporated directly into the =nil; protocol. This means that the issue of fragmentation is avoided entirely as each shard can call contracts deployed on a different shard via transactions verified through ZKP.

## Flows

The following diagram shows how =nil; organizes execution shards, the main shard, the transfer of ZKPs, and communications with Ethereum.

<img src={Flows}/ >