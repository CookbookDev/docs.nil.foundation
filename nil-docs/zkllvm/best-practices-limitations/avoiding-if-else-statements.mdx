import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

# Avoiding `if`/`else` statements

`if`/`else` statements are a popular instrument of control flow. 

However, they can be detrimental to circuit performance. A separate arithmetization constraint is generated for each branch of an `if`/`else` statement, leading to constraint duplication and large table sizes.

To avoid complex and nested `if`/`else` statements, divide a circuit into several smaller functions where it would be possible to use the logical AND operator.

<Tabs groupId='language'>
  <TabItem value='cpp' label='C++'>
    ```cpp
    bool is_same(
      typename hashes::sha2<256>::block_type block0,
      typename hashes::sha2<256>::block_type block1) {

    return block0[0] == block1[0] && block0[1] == block1[1];
    }
    ```
  </TabItem>
  <TabItem value='rust' label='Rust'>
    ```rust
    use ark_pallas::Fq;

    type BlockType = [Fq; 2];

    fn is_same(first_input_block: BlockType, second_input_block: BlockType) -> bool {
        let res = first_input_block[0] == second_input_block[0]
            & first_input_block[1] == second_input_block[1];
        res
    }
    ```
  </TabItem>
</Tabs>

Here is how the example would look like with `if`/`else` statements.

<Tabs groupId='language'>
  <TabItem value='cpp' label='C++'>
    ```cpp
    bool is_same(
      typename hashes::sha2<256>::block_type block0,
      typename hashes::sha2<256>::block_type block1) {

    if (block0[0] == block1[0]) {
      if (block0[1] == block1[1]) {
        return true;
      }
    }
    return false;
    }
    ```
  </TabItem>
  <TabItem value='rust' label='Rust'>
    ```rust
    use ark_pallas::Fq;

    type BlockType = [Fq; 2];

    fn is_same(first_input_block: BlockType, second_input_block: BlockType) -> bool {
        if first_input_block[0] == second_input_block[0] {
          if first_input_block[1] == second_input_block[1] {
            return true;
          }
        }
        false
    }
    ```
  </TabItem>
</Tabs>

These functions can then be used with ternary operators or similar tools replacing the `if`/`else` flow.

<Tabs groupId='language'>
  <TabItem value='cpp' label='C++'>
    ```cpp
    ...
    ```
  </TabItem>
  <TabItem value='rust' label='Rust'>
    ```rust
    use ark_pallas::Fq;

    type BlockType = [Fq; 2];

    fn is_same(first_input_block: BlockType, second_input_block: BlockType) -> bool {
        if first_input_block[0] == second_input_block[0] {
          if first_input_block[1] == second_input_block[1] {
            return true;
          }
        }
        false
    }
    ```
  </TabItem>
</Tabs>





